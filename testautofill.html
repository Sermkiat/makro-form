<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <!-- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Safe Area ‡∏ö‡∏ô iPhone -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏¥‡∏• / ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</title>
<style>
  /* ============================
    1. ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô & Safe Area
    ============================ */
  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  body {
    background-color: #5fa0ff;
    font-family: 'Noto Sans', sans-serif;
    /* ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Safe Area ‡∏ö‡∏ô iPhone */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    display: flex; /* Added to help center content */
    justify-content: center; /* Center .container horizontally */
    align-items: flex-start; /* Align .container to the top */
    min-height: 100vh; /* Ensure body takes full viewport height */
    padding: 16px; /* Add some padding around the body for smaller screens */
  }

  /* ============================
    2. Container & Header
    ============================ */
  .container {
    background: #ffffff;          /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏Ç‡∏≤‡∏ß */
    border: 3px solid #c2e7ff;   /* ‡∏Ç‡∏≠‡∏ö‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
    border-radius: 24px;          /* ‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á */
    width: 100%;                  /* Make container take full width of its parent (body padding will handle spacing) */
    max-width: 420px;             /* Increased max-width for better fit on modern iPhones */
    /* margin: 16px auto; Removed auto margin as body is flex centering */
    padding: 16px;                /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏Ç‡∏≠‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô */
    box-shadow: 0 4px 12px rgba(0,0,0,0.1); /* Optional: adds a bit of depth */
  }
  h1 {
    font-size: 20px;
    text-align: center;
    margin-bottom: 16px; /* Increased margin */
    padding-bottom: 10px; /* Increased padding */
    border-bottom: 4px solid #c2e7ff; /* ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏•‡πà‡∏≤‡∏á‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á */
  }

  /* ============================
    3. Form Elements & Layout
    ============================ */
  .form-row {
    display: flex;
    flex-wrap: wrap; /* Allow items to wrap to the next line on small screens if necessary */
    gap: 12px; /* Space between form groups in a row */
    margin-bottom: 16px;
  }
  .form-group {
    flex: 1 1 calc(50% - 6px); /* Allows two form groups side-by-side, accounting for gap */
    display: flex;
    flex-direction: column; /* Stack label and input within a group if you add labels */
  }
  /* If a form group should take full width */
  .form-group.full-width {
    flex-basis: 100%;
  }

  /* Input field styling - applies to inputs in .form-group and .item-grid */
  .form-group input,
  .form-group select, /* Added select for consistency */
  .item-grid input,
  .item-grid select { /* Added select for consistency */
    width: 100%; /* Make input fields take full width of their parent container */
    padding: 10px 12px;
    font-size: 14px;
    height: 40px; /* Consistent height for touch-friendliness */
    border: 1px solid #ccc;
    border-radius: 8px;
    background: #ffffff;
  }

  /* ============================
    4. Card ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    ============================ */
  .items {
    margin-top: 16px;
  }
  .item {
    background: #e0f7ff;
    border-radius: 16px; /* Slightly reduced radius */
    padding: 12px;
    margin-bottom: 16px;
    box-shadow: 0 1px 6px rgba(0,0,0,0.05); /* Softer shadow */
    position: relative;
  }
  .item h2 { /* This is for "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà 1" title inside the item card */
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 12px;
    color: #111827;
  }

  /* Grid for item fields */
  .item-grid {
    display: grid;
    gap: 8px; /* Reduced gap for tighter packing */
    margin-bottom: 12px;
  }

  /* ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ + ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: 3:2 ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô (as per original, can be 1fr 1fr for equal) */
  .item-grid.header {
    grid-template-columns: 3fr 2fr;
  }

  /* ‡∏´‡∏•‡∏±‡∏Å: Amount | Unit | Price | Total */
  .item-grid.main {
    grid-template-columns: repeat(auto-fit, minmax(calc(25% - 6px), 1fr)); /* Responsive 4 columns */
  }

  /* ‡∏£‡∏≠‡∏á: In unit | Sec Unit | Remarks */
  /* This ensures "In unit" and "Sec unit" are on the same line, and "Remarks" takes the third spot or wraps if needed */
  .item-grid.secondary {
    grid-template-columns: 1fr 1fr 1.5fr; /* "In unit" and "Sec unit" take 1fr, "Remarks" slightly more or adjust as needed */
                                       /* If Remarks should be on its own line, HTML structure change is better */
  }


  .remove {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #ef4444;
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 6px 10px; /* Adjusted padding */
    font-size: 12px;
    cursor: pointer;
  }

  /* ============================
    5. ‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
    ============================ */
  .btn-row {
    display: flex;
    gap: 12px; /* Adjusted gap */
    margin-top: 20px;
    /* flex-direction: row; is the default for flex, so this will ensure they are on the same line */
  }
  #add-item,
  #submit {
    flex: 1; /* Make both buttons share space equally */
    padding: 12px 10px; /* Adjusted padding for better touch area */
    font-size: 15px;   /* Adjusted font size */
    border-radius: 10px;
    cursor: pointer;
    text-align: center;
    height: 44px; /* Consistent button height */
    line-height: 1.3; /* Adjust line-height if text wraps or for better vertical centering */
  }
  #add-item {
    background: #ffdb4d;
    color: #111827;
    border: none;
  }
  #submit {
    background: #4d83ff;
    color: #fff;
    border: none;
  }

  /* ============================
    6. Responsive Adjustments for very small screens (e.g., iPhone SE landscape or smaller)
    ============================ */
  @media (max-width: 480px) { /* This media query was quite broad, adjustments below are more specific if needed */
    /* Most general responsive behavior is handled by flex/grid and % widths already */

    h1 {
      font-size: 18px;
    }

    /* Example: If "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà + ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠" should stack on very small screens */
    .form-row.date-source .form-group { /* Add a class like "date-source" to the specific form-row if needed */
       /* flex-basis: 100%; */ /* Uncomment to make them stack */
    }

    /* For item grids, auto-fit should handle adjustments. */
    /* If "In unit" and "Sec unit" MUST stack on very small screens: */
    /*
    .item-grid.secondary {
      grid-template-columns: 1fr; // This would stack all three: In unit, Sec unit, Remarks
    }
    */
    /* If only In Unit and Sec Unit stack, and Remarks stays or also stacks:
    .item-grid.secondary {
        grid-template-columns: 1fr; // Stacks all
    }
    To keep In Unit and Sec Unit side by side (as requested), the base style for .item-grid.secondary
    should not be overridden to "grid-template-columns: 1fr;" in this media query.
    The current base style "grid-template-columns: 1fr 1fr 1.5fr;" will keep them side-by-side.
    */


    /* Buttons: The request was to keep them on the same line. */
    /* The base style for .btn-row already does this. */
    /* The previous media query had "flex-direction: column;" which is removed. */
    /* If space is extremely tight and text on buttons is long, they might wrap text or overflow. */
    /* Consider reducing font-size or padding on buttons for very small screens if needed. */
    #add-item,
    #submit {
      font-size: 14px; /* Slightly smaller font for very small screens if needed */
      padding: 10px 8px;
    }
  }

  /* Further adjustments for extremely narrow screens if necessary */
  @media (max-width: 360px) {
    .container {
        padding: 12px;
    }
    .form-group input,
    .item-grid input,
    .form-group select,
    .item-grid select {
        font-size: 13px;
        padding: 8px 10px;
        height: 38px;
    }
    #add-item,
    #submit {
      font-size: 13px;
      height: 40px;
    }
  }
</style>
```

**‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**

1.  **`body`:**
    * ‡πÄ‡∏û‡∏¥‡πà‡∏° `display: flex`, `justify-content: center`, `align-items: flex-start` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ `.container` ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô) ‡πÅ‡∏•‡∏∞‡∏ä‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á viewport
    * ‡πÄ‡∏û‡∏¥‡πà‡∏° `padding: 16px;` ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö `body` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡πÜ `container` ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å‡πÜ

2.  **`.container`:**
    * ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `width: 100%;` ‡πÅ‡∏•‡∏∞ `max-width: 420px;` (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 300px) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ container ‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
    * ‡∏•‡∏ö `margin: auto;` ‡∏≠‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å `body` ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô flex container ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á

3.  **Input Fields (`.form-group input`, `.item-grid input`, etc.):**
    * ‡∏Å‡∏≥‡∏´‡∏ô‡∏î `width: 100%;` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ input field ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á element ‡πÅ‡∏°‡πà (‡πÄ‡∏ä‡πà‡∏ô `form-group` ‡∏´‡∏£‡∏∑‡∏≠ grid cell)
    * ‡∏õ‡∏£‡∏±‡∏ö `padding`, `font-size`, ‡πÅ‡∏•‡∏∞ `height` ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠

4.  **Input "In unit" ‡πÅ‡∏•‡∏∞ "Sec unit" ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:**
    * ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á `.item-grid.secondary` ‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `grid-template-columns: 1fr 1fr 1.5fr;` (‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô `1fr 1fr 1fr;` ‡∏´‡∏£‡∏∑‡∏≠ `1fr 1fr 2fr;` ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö "Remarks")
    * ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ child element ‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å (‡∏ã‡∏∂‡πà‡∏á‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô "In unit" ‡πÅ‡∏•‡∏∞ "Sec unit" ‡πÉ‡∏ô HTML ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì) ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
    * **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** Media query `@media (max-width: 480px)` ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `.item-grid.secondary` ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô `grid-template-columns: 1fr;` (‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô) ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ "In unit" ‡πÅ‡∏•‡∏∞ "Sec unit" ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÅ‡∏°‡πâ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å

5.  **‡∏õ‡∏∏‡πà‡∏° "+‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà" ‡πÅ‡∏•‡∏∞ "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:**
    * `.btn-row` ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÉ‡∏ä‡πâ `display: flex;` (‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏µ `flex-direction: row;` ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
    * `#add-item` ‡πÅ‡∏•‡∏∞ `#submit` ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö `flex: 1;` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡πà‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÜ ‡∏Å‡∏±‡∏ô
    * Media query `@media (max-width: 480px)` ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `.btn-row` ‡πÉ‡∏´‡πâ‡∏°‡∏µ `flex-direction: column;` (‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô) ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å **‡∏•‡∏ö‡∏≠‡∏≠‡∏Å** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

6.  **Responsive Design:**
    * ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `width: 100%` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö elements ‡∏ï‡πà‡∏≤‡∏á‡πÜ, `flexbox`, ‡πÅ‡∏•‡∏∞ `grid` ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ layout ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
    * ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö `padding` ‡πÅ‡∏•‡∏∞ `font-size` ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏ô media queries ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏µ‡πà‡πÅ‡∏Ñ‡∏ö‡∏°‡∏≤‡∏Å‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏î‡∏π‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
‡∏ô‡∏≥‡πÇ‡∏Ñ‡πâ‡∏î `<style>...</style>` ‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏Ñ‡πâ‡∏î style ‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå HTML ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:**
* ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤ input fields "In unit" ‡πÅ‡∏•‡∏∞ "Sec unit" ‡πÄ‡∏õ‡πá‡∏ô child elements ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏≠‡∏á‡∏Ç‡∏≠‡∏á div ‡∏ó‡∏µ‡πà‡∏°‡∏µ class `.item-grid.secondary`
* ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå iPhone ‡∏à‡∏£‡∏¥‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ Developer Tools ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå (‡πÄ‡∏ä‡πà‡∏ô Chrome, Safari) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ iPhone ‡∏£‡∏∏‡πà‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

‡∏´‡∏ß‡∏±‡∏á‡∏ß‡πà‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏∞‡∏Ñ‡∏£
  <!-- SweetAlert2 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö popup ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
  <div class="container">
    <h1>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏¥‡∏•/‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</h1>

    <!-- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà + ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠ -->
    <div class="form-row">
      <div class="form-group">
        <label>üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠</label>
        <input type="date" id="date_bill" />
      </div>
      <div class="form-group">
        <label>üè™ ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠</label>
        <input type="text" id="supplier" list="supplierlist" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠" />
      </div>
    </div>

    <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
    <div class="items" id="items-container"></div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á -->
    <div class="btn-row">
      <button id="add-item">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</button>
      <button id="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    </div>
  </div>

  <!-- datalist ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö autocomplete -->
  <datalist id="namelist"></datalist>
  <datalist id="supplierlist">
    <option value="Makro"><option value="Tops"><option value="Lotus">
    <option value="Lazada"><option value="Shopee">
  </datalist>

  <!-- Template ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
  <template id="item-template">
    <div class="item">
      <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà <span class="item-index">1</span></h2>

      <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ + ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà -->
      <div class="item-grid header">
        <input type="text" class="name" list="namelist" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" />
        <input type="text" class="group" list="grouplist" placeholder="‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" />
      </div>
      <datalist id="grouplist">
        <option value="‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏ß"><option value="‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏ô‡∏°"><option value="‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô">
        <option value="‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô/‡πÉ‡∏ä‡πâ‡∏û‡∏£‡∏≤‡∏ß"><option value="‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"><option value="‡∏¢‡∏≤">
        <option value="‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß/‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô"><option value="‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°"><option value="‡∏á‡∏≤‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á">
      </datalist>

      <!-- Amount | Unit | Price Unit | Total -->
      <div class="item-grid main">
        <input type="number" class="amount" placeholder="Amount" />
        <input type="text"   class="unit"   placeholder="Unit" />
        <input type="number" class="price_unit" step="0.01" placeholder="Price Unit" />
        <input type="text"   class="total" readonly placeholder="Total" />
      </div>

      <!-- In unit | Sec Unit | Remarks -->
      <div class="item-grid secondary">
        <input type="text" class="in_unit" placeholder="In unit" />
        <input type="text" class="sec_unit" placeholder="Sec Unit" />
        <input type="text" class="note" placeholder="Remarks" />
      </div>

      <button class="remove">‡∏•‡∏ö</button>
    </div>
  </template>

  <script>
    const apiURL = 'https://script.google.com/macros/s/AKfycbzez-fh075oK0A8-JxKz2sozwPLj2uF9jrpPLA_Mq0707SVhi2pp_FIa0NOfYe8EM8aYA/exec';
    window.savedState = window.savedState || { dataList: [], totalItems: 0, savedCount: 0 };

    function loadData() {
      const tag = document.createElement('script');
      tag.src = `${apiURL}?sheet=marketlist&callback=handleData`;
      document.body.appendChild(tag);
    }

    function handleData(data) {
      window.savedState.dataList = data;
      const dl = document.getElementById('namelist'); dl.innerHTML = '';
      data.forEach(item => {
        const opt = document.createElement('option');
        opt.value = item.name;
        dl.appendChild(opt);
      });
      updateItemIndices();
    }

    function addItemRow() {
      const cont = document.getElementById('items-container');
      const clone = document.getElementById('item-template').content.cloneNode(true);
      clone.querySelector('.remove').addEventListener('click', e => {
        e.target.closest('.item').remove();
        updateItemIndices();
      });
      cont.appendChild(clone);
      updateItemIndices();
    }

    function updateItemIndices() {
      document.querySelectorAll('.item').forEach((el, idx) => {
        el.querySelector('.item-index').textContent = idx + 1;
      });
    }

    function resetForm() {
      document.getElementById('date_bill').value = '';
      document.getElementById('supplier').value = '';
      const cont = document.getElementById('items-container');
      cont.innerHTML = '';
      window.savedState.totalItems = 0;
      window.savedState.savedCount = 0;
      addItemRow();
    }

    document.getElementById('items-container').addEventListener('input', e => {
      const row = e.target.closest('.item');
      if (e.target.classList.contains('amount') || e.target.classList.contains('price_unit')) {
        const qty = parseFloat(row.querySelector('.amount').value) || 0;
        const price = parseFloat(row.querySelector('.price_unit').value) || 0;
        row.querySelector('.total').value = (qty * price).toFixed(2);
      }
    });

    document.getElementById('add-item').addEventListener('click', addItemRow);
    document.getElementById('submit').addEventListener('click', () => {
      const dateBill = document.getElementById('date_bill').value;
      const supplier = document.getElementById('supplier').value;
      if (!dateBill || !supplier) {
        return Swal.fire('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö','‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠','warning');
      }
      const items = [];
      document.querySelectorAll('.item').forEach(r => {
        const am = r.querySelector('.amount').value;
        if (!am) return;
        items.push({
          nm: r.querySelector('.name').value,
          un: r.querySelector('.unit').value,
          gr: r.querySelector('.group').value,
          am,
          pu: r.querySelector('.price_unit').value,
          to: r.querySelector('.total').value,
          note: r.querySelector('.note').value
        });
      });
      if (items.length === 0) {
        return Swal.fire('‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£','‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£','warning');
      }
      let receiptHtml = `<div style="text-align:left;font-size:13px;">üßæ <strong>‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à</strong><br>
        ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${dateBill}<br>‡∏£‡πâ‡∏≤‡∏ô: ${supplier}<hr>`;
      items.forEach(it => {
        receiptHtml += `<strong>${it.nm}</strong> (${it.gr})<br>${it.am} ${it.un} x ${it.pu} = ${it.to} ‡∏ö‡∏≤‡∏ó<br>`;
      });
      const totalSum = items.reduce((sum, i) => sum + parseFloat(i.to||0), 0).toFixed(2);
      receiptHtml += `<hr><em>‡∏£‡∏ß‡∏° ${totalSum} ‡∏ö‡∏≤‡∏ó</em></div>`;

      Swal.fire({
        title: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
        html: receiptHtml,
        width: 320,
        showCancelButton: true,
        confirmButtonText: '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô',
        cancelButtonText: '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç'
      }).then(res => {
        if (res.isConfirmed) {
          window.savedState.totalItems = items.length;
          window.savedState.savedCount = 0;
          Swal.fire({ title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...', allowOutsideClick:false, didOpen: ()=> Swal.showLoading() });
          items.forEach(it => {
            const qs = `?sheet=datalog&date_bill=${encodeURIComponent(dateBill)}` +
                       `&supplier=${encodeURIComponent(supplier)}` +
                       `&name=${encodeURIComponent(it.nm)}` +
                       `&unit=${encodeURIComponent(it.un)}` +
                       `&group=${encodeURIComponent(it.gr)}` +
                       `&amount=${encodeURIComponent(it.am)}` +
                       `&price_unit=${encodeURIComponent(it.pu)}` +
                       `&total=${encodeURIComponent(it.to)}` +
                       `&note=${encodeURIComponent(it.note)}&callback=handleSubmit`;
            const sc = document.createElement('script'); sc.src = apiURL + qs; document.body.appendChild(sc);
          });
        }
      });
    });

    function handleSubmit(msg) {
      window.savedState.savedCount++;
      if (window.savedState.savedCount >= window.savedState.totalItems) {
        Swal.close();
        Swal.fire('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à','‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢','success').then(()=> resetForm());
      }
    }

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ñ‡∏ß‡πÅ‡∏£‡∏Å
    loadData();
    addItemRow();
  </script>
</body>
</html>
